# Production Environment Configuration
# Copy this file to .env and fill in your production values

# Application Environment
NODE_ENV=production
PORT=3001
LOG_LEVEL=warn

# Database Configuration (Required)
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/insightops?retryWrites=true&w=majority

# Security Configuration (Required - Generate strong random values)
# Generate JWT_SECRET: openssl rand -base64 64
JWT_SECRET=<generate-64-character-random-string>
# Generate ENCRYPTION_KEY: openssl rand -hex 32
ENCRYPTION_KEY=<generate-64-hex-character-string>

# Frontend Configuration (Required for CORS)
FRONTEND_URL=https://your-production-domain.com
# For multiple origins, use comma-separated list:
# ALLOWED_ORIGINS=https://domain1.com,https://domain2.com

# AI Providers (At least one required)
# OpenAI Configuration
OPENAI_API_KEY=sk-...
# Groq Configuration  
GROQ_API_KEY=gsk_...
# Google Gemini Configuration
GEMINI_API_KEY=AI...

# Default AI Configuration
AI_MODEL=gemini-2.0-flash
AI_PROVIDER=gemini

# Azure DevOps Configuration (Optional - can be configured per user)
AZURE_DEVOPS_ORG=your-organization
AZURE_DEVOPS_PROJECT=your-project
AZURE_DEVOPS_PAT=your-personal-access-token
AZURE_DEVOPS_BASE_URL=https://dev.azure.com

# Notification Services (Optional)
TEAMS_WEBHOOK_URL=https://your-teams-webhook-url
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...
GOOGLE_CHAT_WEBHOOK_URL=https://chat.googleapis.com/v1/spaces/...
NOTIFICATIONS_ENABLED=true

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_AI_MAX=20

# Polling Configuration (Cron expressions)
WORK_ITEMS_POLL_INTERVAL=0 */10 * * *
PIPELINE_POLL_INTERVAL=0 */10 * * *
PR_POLL_INTERVAL=0 */10 * * *

# Error Tracking (Optional but recommended)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Performance Monitoring (Optional)
NEW_RELIC_LICENSE_KEY=your-new-relic-key
NEW_RELIC_APP_NAME=InsightOps-Production

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5000
HEALTH_CHECK_INTERVAL=30000

# Session Configuration
SESSION_SECRET=<generate-another-64-character-random-string>
SESSION_MAX_AGE=86400000

# File Upload Configuration
MAX_FILE_SIZE=10485760
UPLOAD_PATH=/tmp/uploads

# Cache Configuration
REDIS_URL=redis://localhost:6379
CACHE_TTL=300

# Security Headers Configuration
CSP_REPORT_URI=https://your-domain.com/csp-report
HSTS_MAX_AGE=31536000

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System under maintenance. Please try again later.

# Feature Flags
FEATURE_AI_ANALYSIS=true
FEATURE_REAL_TIME_UPDATES=true
FEATURE_ADVANCED_ANALYTICS=true

# Third-party Integrations
WEBHOOK_SECRET=<generate-webhook-secret>
API_TOKEN=<generate-api-token>

# Logging Configuration
LOG_MAX_SIZE=5242880
LOG_MAX_FILES=5
LOG_DATE_PATTERN=YYYY-MM-DD

# Database Connection Pool
DB_MIN_POOL_SIZE=2
DB_MAX_POOL_SIZE=10
DB_CONNECTION_TIMEOUT=30000

# SSL Configuration (if using custom certificates)
SSL_CERT_PATH=/path/to/certificate.crt
SSL_KEY_PATH=/path/to/private.key

# Monitoring and Alerting
ALERT_EMAIL=admin@your-domain.com
ALERT_WEBHOOK=https://your-monitoring-webhook.com
UPTIME_CHECK_URL=https://your-domain.com/api/health

# Performance Tuning
MAX_REQUEST_SIZE=50mb
REQUEST_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=5000

# Development vs Production Flags
DEBUG_MODE=false
VERBOSE_LOGGING=false
ENABLE_PROFILING=false
